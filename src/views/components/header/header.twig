{#
| Variable         | Type    | Description                     |
|------------------|---------|---------------------------------|
| cart             | object  |                                 |
| cart.items_count | int     |                                 |
| cart.total       | string  | Formatted total ex: "١٠٠ ر.س"   |
#}
{% set important_links = theme.settings.get('important_links') %}
<header class="store-header volt-header">
  {# Top info bar #}
  <div class="top-navbar volt-topbar">
    <div class="container volt-topbar__container">
      <div class="volt-topbar__left">
        {% if important_links %}
          <salla-menu source="footer" topnav></salla-menu>
        {% endif %}
      </div>
      <div class="volt-topbar__right">
        <div class="volt-topbar__controls">
          {% if store.settings.is_multilingual or store.settings.currencies_enabled %}
            <button type="button"
                    onclick="salla.event.dispatch('localization::open')"
                    class="volt-topbar__pill"
                    aria-label="{{ trans('common.elements.change_language')|default('Change language') }}">
              <span class="flag iti__flag iti__{{ user.language.country_code }} rounded-sm"></span>
              <span class="volt-topbar__divider">|</span>
              <span>{{ currency.symbol }}</span>
            </button>
            <salla-localization-modal></salla-localization-modal>
          {% endif %}

          {% if store.scope %}
            <button class="volt-topbar__pill"
                    onclick="salla.event.dispatch('scopes::open', {'mode': 'default'})">
              <i class="sicon-location rtl:ml-1 ltr:mr-1"></i> {{ store.scope.name }}
            </button>
          {% endif %}
        </div>

        <div class="volt-topbar__search">
          <salla-search inline oval height="36"></salla-search>
        </div>

        <div class="volt-topbar__contacts">
          <salla-contacts is-header></salla-contacts>
        </div>
      </div>
    </div>
  </div>

  {# Main Nav #}
  <div id="mainnav" class="main-nav-container volt-navbar">
      <div class="volt-navbar__accent-line" aria-hidden="true"></div>
      <div class="inner volt-navbar__inner">
          <div class="container volt-navbar__container">
              <div class="volt-navbar__content">
                  <div class="volt-navbar__left">
                      <a class="volt-navbar__mobile-toggle lg:hidden" href="#mobile-menu" aria-label="{{ trans('common.elements.open_menu')|default('Open menu') }}">
                        <i class="sicon-menu"></i>
                      </a>

                      <a class="volt-brand" href="{{ store.url }}">
                          <span class="volt-brand__frame" aria-hidden="true">
                            <img src="{{ store.logo }}"
                                 alt="{{ store.name }}"
                                 loading="eager"
                                 fetchpriority="high">
                          </span>
                          <span class="volt-brand__text">
                            <span class="volt-brand__title">{{ store.name }}</span>
                            <span class="volt-brand__subtitle">{{ '@' ~ store.username }}</span>
                          </span>
                          {% if is_page('index') %}
                            <h1 class="sr-only">{{ store.name }}</h1>
                          {% else %}
                            <h2 class="sr-only">{{ store.name }}</h2>
                          {% endif %}
                      </a>
                  </div>

                  <div class="volt-navbar__menu hidden lg:flex">
                      <custom-main-menu class="volt-main-menu"></custom-main-menu>
                  </div>

                  <div class="volt-navbar__actions">
                      <button class="volt-navbar__icon-btn"
                              type="button"
                              onclick="document.querySelector('.volt-header .s-search-input')?.focus()"
                              aria-label="{{ trans('common.elements.search')|default('Search') }}">
                        <i class="sicon-search"></i>
                      </button>

                      {% if user.type=='user' %}
                        <salla-user-menu avatar-only show-header class="volt-navbar__user-menu"></salla-user-menu>
                      {% else %}
                        <button class="volt-navbar__icon-btn"
                                type="button"
                                onclick="salla.event.dispatch('login::open')"
                                aria-label="{{ trans('pages.auth.login')|default('Login') }}">
                          <i class="sicon-user-circle"></i>
                        </button>
                      {% endif %}

                      <salla-cart-summary class="volt-navbar__cart">
                        <i slot="icon" class="sicon-shopping-bag"></i>
                      </salla-cart-summary>
                  </div>
              </div>
          </div>
      </div>
  </div>
</header>
{% if store.scope %}
    <salla-scopes selection="{{ store.scope.display_as == 'popup' ? 'mandatory' : 'optional' }}"></salla-scopes>
{% endif %}

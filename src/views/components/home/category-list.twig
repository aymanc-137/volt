{#
| Variable                           | Type     | Description                                                                  |
|------------------------------------|----------|------------------------------------------------------------------------------|
| component                          | object   | Contains merchant settings for fields from twilight.json `component` section |
| component.merge_with_top_component | bool     |                                                                              |
| component.title                    | ?string  | Main title text                                                              |
| component.sub_title                | ?string  | Subtitle/description text                                                    |
| component.enable_gradient_title    | bool     | Enable gradient color for title (primary to secondary color)                 |
| component.enable_gradient_word     | bool     | Enable gradient color for specific word in title                             |
| component.gradient_word            | ?string  | The word to apply gradient color to                                          |
| component.links                    | object[] | list of links                                                                |
| component.links[].icon             | string   |                                                                              |
| component.links[].title            | string   |                                                                              |
| component.links[].url              | string   |                                                                              |
| component.slash_hbg                | bool     | Enable slash background                                                       |
| component.enable_glow              | bool     | Enable background glow effect                                                |
| component.marquee                  | bool     | Enable marquee text                                                          |
| component.marqueetext              | string   | Marquee text                                                                 |
| position                           | int      | Sorting number start from zero                                               |
#}

{% set slashbg = component.slas_hbg | default(false) %}
{% set marquee = component.marquee | default(false) %}
{% set marqueetext = component.marqueetext | default(" سرعة /// أداء /// تحكم ") %}
{% set enable_border = component.enable_border | default(false) %}
{% set enable_glow = component.enable_glow | default(false) %}
{% set marquee_text_position = component.marquee_text_position | default('both') %}
{% set marquee_is_moving = component.marquee_is_moving %}
{% set marquee_text_size = component.marquee_text_size | default('8') %}
{% set slas_hbg_size = component.slas_hbg_size | default('20') %}
{% set slas_hbg_use_primary_color = component.slas_hbg_use_primary_color %}
{% set slas_hbg_color = component.slas_hbg_color~"1A" | default('#0000001A') %}

{# <span class="navbar-underline"></span> #}
<section class="  z-10 s-block--categories   {{ enable_border ? 'border-y border-[var(--color-primary)]' : ''}} py-20 relative overflow-hidden
   
    {{ slashbg ? 'slash-bg-' ~ position ~ '   dynamic-bg-color' : ''}}
    pb-32">
    {% if enable_glow %}
    <!-- Glow balls -->
    <div class="absolute top-1/4 left-[8%] w-48 h-48 rounded-full blur-3xl opacity-60 pointer-events-none" style="background-color: var(--color-primary);"></div>
    <div class="absolute bottom-1/4 right-1/4 w-44 h-44 rounded-full blur-3xl opacity-60 pointer-events-none" style="background-color: var(--color-scandary);"></div>
    <div class="absolute top-1/2 right-1/4 w-36 h-36 rounded-full blur-3xl opacity-60 pointer-events-none" style="background-color: var(--color-primary);"></div>
    {% endif %}
    {% if marquee %}

    {% if marquee_text_position == 'top' or marquee_text_position == 'both' %}

    <div class="styleish-text absolute top-10 left-0 w-full opacity-10 pointer-events-none select-none overflow-hidden" dir="ltr">
        <div 
        style="font-size: {{marquee_text_size}}rem; line-height:1;"
        class="{{ marquee_is_moving ? 'marquee-reverse-sections' : '' }} 
        flex
        
        
         whitespace-nowrap w-max">
            <span class="font-alshohadaa   font-bold    display-text whitespace-nowrap px-4">
                {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}
            </span>
            <span class="font-alshohadaa   font-bold    display-text whitespace-nowrap px-4">
                {{marqueetext}}&nbsp;&nbsp;&nbsp;{{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}
            </span>
        </div>
    </div>

    {% endif %}

    {% if marquee_text_position == 'bottom' or marquee_text_position == 'both' %}

    <div class="styleish-text absolute bottom-10 left-0 w-full opacity-10 pointer-events-none select-none overflow-hidden" dir="ltr">
        <div
         
        style="font-size: {{marquee_text_size}}rem; line-height:1;"

         class="{{ marquee_is_moving ? 'marquee-content-sections' : '' }} flex whitespace-nowrap w-max">
            <span class="font-alshohadaa font-bold display-text whitespace-nowrap px-4">
                {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}
            </span>
            <span class="font-alshohadaa font-bold display-text whitespace-nowrap px-4">
                {{marqueetext}}&nbsp;&nbsp;&nbsp;{{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}&nbsp;&nbsp;&nbsp; {{marqueetext}}
            </span>
        </div>
    </div>
 
    {% endif %}
    {% endif %}
    <!-- Decorative Top Heading -->
    {% if component.title %}
  <div class="mx-auto flex flex-col space-y-6 justify-center items-center my-12 w-5/6">

    <div class="flex flex-col items-center">
      {% if component.enable_gradient_title %}
        <h1 class="text-4xl font-alshohadaa mb-5 bg-gradient-to-r from-primary to-scandary bg-clip-text text-transparent">{{component.title}}</h1>
      {% elseif component.enable_gradient_word and component.gradient_word %}
        <h1 id="category-list-title-{{ position }}" class="text-4xl font-alshohadaa mb-5 dynamic-text-color">{{component.title}}</h1>
      {% else %}
        <h1 class="text-4xl font-alshohadaa mb-5 dynamic-text-color">{{component.title}}</h1>
      {% endif %}
      <span class="navbar-underline"></span>
    </div>

    <div class="text-center mx-auto text-base lg:text-lg dynamic-text-color">
        {{component.sub_title}}
      </div>
  </div>

  {% if component.enable_gradient_word and component.gradient_word %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const titleEl = document.getElementById('category-list-title-{{ position }}');
        if (titleEl) {
          const word = '{{ component.gradient_word }}';
          const regex = new RegExp('(' + word.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + ')', 'gi');
          titleEl.innerHTML = titleEl.innerHTML.replace(
            regex,
            '<span class="bg-gradient-to-r from-primary to-scandary bg-clip-text text-transparent">$1</span>'
          );
        }
      });
    </script>
  {% endif %}

{% endif %}

<div class="w-[90]  big-image-category justify-center items-center ">
<salla-slider  
type="carousel"
controls-outer
autoplay
show-controls="true" 
id="main-links-{{ position }}">

<div slot="items">
      {% for index,item in component.links %}
          <div class="swiper-slide my-10  slide-one-one  ">

          <div
           class="w-32 h-32 md:w-56 md:h-56 overflow-hidden
          category-card
      
         category-card-bg-{{index}}

          "
          
          >
          <style>
          
            .category-card-bg-{{index}}:hover
            {
             
              background: linear-gradient(to bottom  ,{{item.color}}4D ,{{item.color}}66 );
            }
          </style>

          <a href="{{item.url}}"
                    class="w-full h-full flex flex-col items-center justify-evenly"
                    
                   
                     >
                     <img class="w-32 h-32 bg-contain bg-center border-none bg-no-repeat"
                     src="{{item.image}}"
                     {# style="background-image: url('{{item.image}}') ;" #}

                     >
                  <h3
                  
                   class=" text-center category-name
                   
                   text-lg md:text-2xl font-bold place-self-center">{{item.text}}</h3>
          </a>

          </div>
          </div>
      {% endfor %}
</div>

</salla-slider>
</div>

</section> 
 
 <style>
 {% if slas_hbg_use_primary_color %}
 .slash-bg-{{position}} {
    background: linear-gradient(135deg, var(--color-primary-10) 25%, rgba(0, 0, 0, 0)  
    25%, rgba(0, 0, 0, 0)  50%, var(--color-primary-10)  50%, 
                                 var(--color-primary-10) 75%, rgba(0, 0, 0, 0) 75%);
   background-size: {{slas_hbg_size}}px {{slas_hbg_size}}px;
}
{% else %}
.slash-bg-{{position}} {
    background: linear-gradient(135deg, {{slas_hbg_color}} 25%, rgba(0, 0, 0, 0)  
    25%, rgba(0, 0, 0, 0)  50%, {{slas_hbg_color}}  50%, 
                                 {{slas_hbg_color}} 75%, rgba(0, 0, 0, 0) 75%);
   background-size: {{slas_hbg_size}}px {{slas_hbg_size}}px;
}
{% endif %} 
 </style>
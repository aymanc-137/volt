{#
| Variable                       | Type     | Description                                                                  |
|--------------------------------|----------|------------------------------------------------------------------------------|
| component                      | object   | Contains merchant settings for fields from twilight.json `component` section |
| component.title_pre            | ?string  | First part of the section title                                              |
| component.title_highlight      | ?string  | Highlighted word rendered with primary color                                 |
| component.title_suffix         | ?string  | Final part of the section title                                              |
| component.description          | ?string  | Section description text                                                      |
| component.image                | ?string  | Optional hero image URL                                                       |
| component.image_alt            | ?string  | Accessible alternative text for the image                                    |
| component.features             | object[] | List of features to showcase                                                 |
| component.features[].icon      | ?string  | CSS class for the Salla icon                                                 |
| component.features[].title     | ?string  | Feature title                                                                |
| component.features[].description | ?string| Feature supporting text                                                      |
| position                       | int      | Sorting number start from zero                                               |
#}

{% set title_pre = component.title_pre ?: null %}
{% set title_highlight = component.title_highlight ?: null %}
{% set title_suffix = component.title_suffix ?: null %}
{% set description = component.description ?: null %}
{% set image_url = component.image ?: null %}
{% set image_alt = component.image_alt ?: (title_highlight ?: title_pre ?: 'why-us-section') %}
{% set features = component.features ?? [] %}

<section class="s-block s-block--why-us">
  <div class="container">
    <div class="why-us-grid">
      {% if image_url %}
        <div class="why-us-media">
          <img
            src="{{ image_url }}"
            alt="{{ image_alt|e('html_attr') }}"
            loading="lazy"
            class="why-us-media__image"
          >
        </div>
      {% endif %}

      <div class="why-us-content daynmic-text-color">
        {% if title_pre or title_highlight or title_suffix %}
          <h2 class="why-us-title">
            {% if title_pre %}
              <span class="why-us-title__part">{{ title_pre }}</span>
            {% endif %}
            {% if title_highlight %}
              <span class="why-us-title__highlight">{{ title_highlight }}</span>
            {% endif %}
            {% if title_suffix %}
              <span class="why-us-title__part">{{ title_suffix }}</span>
            {% endif %}
          </h2>
        {% endif %}

        {% if description %}
          <p class="why-us-description">{{ description }}</p>
        {% endif %}

        {% if features %}
          <div class="why-us-features">
            {% for feature in features %}
              {% set feature_title = feature.title ?? null %}
              {% set feature_description = feature.description ?? null %}
              {% set icon_class = feature.icon ?? 'sicon-verified' %}
              <div class="why-us-feature">
                <div class="why-us-feature__icon">
                  <i class="{{ icon_class|e('html_attr') }}" aria-hidden="true"></i>
                </div>
                <div class="why-us-feature__body">
                  {% if feature_title %}
                    <h3 class="why-us-feature__title">{{ feature_title }}</h3>
                  {% endif %}
                  {% if feature_description %}
                    <p class="why-us-feature__description">{{ feature_description }}</p>
                  {% endif %}
                </div>
              </div>
            {% endfor %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>
